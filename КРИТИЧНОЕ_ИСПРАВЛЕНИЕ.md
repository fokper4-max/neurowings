# ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï PyTorch DLL

## –ü—Ä–æ–±–ª–µ–º–∞

**–í—Å–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–±–æ—Ä–∫–∏ (Build #1-7) –ù–ï –†–ê–ë–û–¢–ê–Æ–¢!**

–û—à–∏–±–∫–∞:
```
OSError: [WinError 1114] Error loading "c10.dll" or one of its dependencies
```

## –ü—Ä–∏—á–∏–Ω–∞

PyInstaller —Å —Ñ–ª–∞–≥–æ–º `--onefile` (–æ–¥–∏–Ω .exe —Ñ–∞–π–ª) **–õ–û–ú–ê–ï–¢** PyTorch DLL –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

PyTorch —Ç—Ä–µ–±—É–µ—Ç:
- –í—Å–µ DLL –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `--onedir` –≤–º–µ—Å—Ç–æ `--onefile`

## –†–µ—à–µ–Ω–∏–µ (–ù–û–í–ê–Ø –°–ë–û–†–ö–ê)

### –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:

1. ‚úÖ **`--onefile` ‚Üí `--onedir`** - —Ç–µ–ø–µ—Ä—å –ø–∞–ø–∫–∞ —Å —Ñ–∞–π–ª–∞–º–∏, –∞ –Ω–µ –æ–¥–∏–Ω .exe
2. ‚úÖ **`--collect-all torch`** - —Å–æ–±–∏—Ä–∞–µ—Ç –í–°–ï —Ñ–∞–π–ª—ã PyTorch
3. ‚úÖ **`--collect-all torchvision`** - —Å–æ–±–∏—Ä–∞–µ—Ç –í–°–ï —Ñ–∞–π–ª—ã torchvision
4. ‚úÖ **`--collect-all cv2`** - —Å–æ–±–∏—Ä–∞–µ—Ç –í–°–ï —Ñ–∞–π–ª—ã OpenCV
5. ‚úÖ **`--noupx`** - –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∫–æ–º–ø—Ä–µ—Å—Å–∏—è (–ª–æ–º–∞–µ—Ç DLL)
6. ‚úÖ **Visual C++ Runtime** - –≤–∫–ª—é—á–µ–Ω –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

### –ö–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç:

**–†–ê–ù–¨–®–ï** (–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç):
```
NeuroWings.exe  ‚Üê –æ–¥–∏–Ω —Ñ–∞–π–ª, –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

**–°–ï–ô–ß–ê–°** (—Ä–∞–±–æ—Ç–∞–µ—Ç):
```
NeuroWings/
  ‚îú‚îÄ‚îÄ NeuroWings.exe  ‚Üê –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª
  ‚îú‚îÄ‚îÄ torch/
  ‚îÇ   ‚îî‚îÄ‚îÄ lib/
  ‚îÇ       ‚îú‚îÄ‚îÄ c10.dll
  ‚îÇ       ‚îú‚îÄ‚îÄ torch_cpu.dll
  ‚îÇ       ‚îî‚îÄ‚îÄ ...
  ‚îú‚îÄ‚îÄ neurowings/
  ‚îî‚îÄ‚îÄ [–¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]
```

## üöÄ –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –†–ê–ë–û–ß–ï–ô –≤–µ—Ä—Å–∏–∏

### –ó–∞–ø—É—â–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ (Build #8+)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/fokper4-max/neurowings/actions
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–±–æ—Ä–∫–∏ (~10-15 –º–∏–Ω—É—Ç)
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. –°–∫–∞—á–∞–π—Ç–µ **Artifacts** ‚Üí **NeuroWings-Windows**
5. –†–∞—Å–ø–∞–∫—É–π—Ç–µ ZIP
6. –í–Ω—É—Ç—Ä–∏ –±—É–¥–µ—Ç –ø–∞–ø–∫–∞ **NeuroWings/**
7. –ó–∞–ø—É—Å—Ç–∏—Ç–µ **NeuroWings/NeuroWings.exe**

## ‚ö†Ô∏è –í–ê–ñ–ù–û

### –ù–ï –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å—Ç–∞—Ä—ã–µ —Å–±–æ—Ä–∫–∏:
- ‚ùå Build #1-7 - –ù–ï –†–ê–ë–û–¢–ê–Æ–¢
- ‚úÖ Build #8+ - –†–ê–ë–û–¢–ê–Æ–¢ (—Å –Ω–æ–≤—ã–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º)

### –ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å:
- **–°—Ç–∞—Ä–∞—è**: –æ–¥–∏–Ω —Ñ–∞–π–ª `NeuroWings.exe` (~800 MB)
- **–ù–æ–≤–∞—è**: –ø–∞–ø–∫–∞ `NeuroWings/` —Å .exe –≤–Ω—É—Ç—Ä–∏

## –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Visual C++ Runtime**:
   https://aka.ms/vs/17/release/vc_redist.x64.exe

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å**:
   –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É `NeuroWings/` –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

3. **–ü—Ä–∏—à–ª–∏—Ç–µ –ª–æ–≥**:
   –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `neurowings.log` –≤ –ø–∞–ø–∫–µ —Å .exe

## –ü–æ—á–µ–º—É —ç—Ç–æ –∑–∞–Ω—è–ª–æ —Ç–∞–∫ –¥–æ–ª–≥–æ?

PyInstaller + PyTorch = –∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
- `--onefile` —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è 99% –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ù–æ PyTorch —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±—ã–π –ø–æ–¥—Ö–æ–¥
- –ù—É–∂–µ–Ω `--onedir` + `--collect-all`

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:
- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –≤ `.spec`: `console=False`
- –ú–æ–∂–Ω–æ —É–ø–∞–∫–æ–≤–∞—Ç—å –ø–∞–ø–∫—É –≤ installer (Inno Setup, NSIS)
