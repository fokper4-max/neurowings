#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
NeuroWings - Константы и настройки
"""

from PyQt5.QtGui import QColor

# =============================================================================
# ОСНОВНЫЕ КОНСТАНТЫ
# =============================================================================

APP_NAME = "NeuroWings"
APP_VERSION = "1.6"
APP_AUTHOR = "Dmitry Dubrovskiy"
NUM_POINTS = 8

# =============================================================================
# ЦВЕТА
# =============================================================================

COLOR_NORMAL = QColor(255, 0, 0)
COLOR_PROBLEM = QColor(255, 165, 0)
COLOR_SELECTED = QColor(0, 255, 0)
COLOR_WING_LABEL = QColor(255, 255, 0)
COLOR_WING_OK = QColor(0, 200, 0)
COLOR_WING_PROBLEM = QColor(255, 100, 100)

# Цвета для разных моделей точек
COLOR_YOLO = QColor(255, 0, 0)      # Красный
COLOR_STAGE1 = QColor(0, 0, 255)    # Синий
COLOR_STAGE2 = QColor(128, 0, 255)  # Фиолетовый
COLOR_GT = QColor(0, 255, 0)        # Зелёный (Ground Truth)

# =============================================================================
# НАСТРОЙКИ ОТОБРАЖЕНИЯ
# =============================================================================

DEFAULT_POINT_RADIUS = 3
DEFAULT_TEXT_SIZE = 10

# =============================================================================
# ПОРОДНЫЕ ДИАПАЗОНЫ (из Excel)
# =============================================================================

BREEDS = {
    'Mellifera':  {'CI': (0.76, 2.16), 'DsA': (-15.31, 0.00), 'HI': (0.616, 0.923)},
    'Caucasica':  {'CI': (1.73, 2.75), 'DsA': (-2.88, 2.88),  'HI': (0.704, 1.027)},
    'Ligustica':  {'CI': (2.00, 3.29), 'DsA': (0.00, 4.81),   'HI': (0.923, 1.206)},
    'Carnica':    {'CI': (2.16, 5.67), 'DsA': (0.00, 12.39),  'HI': (0.923, 1.420)},
}

# Точки, используемые для расчёта каждого индекса
INDEX_POINTS = {
    'CI': [4, 5, 6],
    'DsA': [0, 1, 2, 7],
    'HI': [2, 3, 4, 6],
}

# Перестановка точек YOLO -> WingsDig
YOLO_TO_WINGSDIG = [0, 1, 3, 2, 4, 5, 6, 7]

# Алиас для совместимости с calculations.py
BREED_RANGES = BREEDS

# =============================================================================
# НАСТРОЙКИ ОБРАБОТКИ ИЗОБРАЖЕНИЙ
# =============================================================================

# YOLO Detection настройки
YOLO_DET_IMAGE_SIZE = 1280
YOLO_DET_CONFIDENCE = 0.5

# YOLO Pose настройки
YOLO_POSE_IMAGE_SIZE = 768
YOLO_POSE_CONFIDENCE = 0.25

# Stage2 (ResNet) настройки
STAGE2_CROP_SIZE = 256  # Размер области вокруг точки
STAGE2_CROP_HALF = 128  # Половина размера области
STAGE2_ITERATIONS = 2    # Количество итераций уточнения
STAGE2_MAX_OFFSET = 30   # Максимальное смещение за итерацию (пикселей)

# Отступы для bbox
BBOX_MARGIN = 20  # Отступ от границ bbox (пикселей)
